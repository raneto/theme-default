((a,t)=>{var n,i="undefined"==typeof rn_base_url?"":rn_base_url;a(document).ready(function(){a(".content").length&&(t.highlightAll(),a(".content table").addClass("table")),a("#add-page-confirm").click(function(){a("#addModal").modal("hide");var e=a("#page-name").val().replace(/\s+/g,"-");a.post(i+"/rn-add-page",{name:e,category:n},function(t){0===t.status&&(t=[""],""!==n&&t.push(n),t.push(e),t.push("edit"),window.location=i+t.join("/"))}).fail(function(t){403===t.status&&(window.location=i+"/login")})}),a("#delete-page-confirm").click(function(){var t=window.location.pathname,e=i.replace(window.location.origin,""),n=t;"/"===(n=e&&0===t.indexOf(e)?t.substring(e.length):n).charAt(0)&&(n=n.substring(1)),a("#deleteModal").modal("hide"),a.post(i+"/rn-delete",{file:decodeURI(n)},function(t){0===t.status&&(window.location=i+"/")}).fail(function(t){403===t.status&&(window.location=i+"/login")})}),a(".add-page").click(function(){var t=a(this).closest("h5").children().eq(0).text().trim().toLowerCase().replace(/\s+/g,"-");n="main-articles"!==t?t:""}),setTimeout(function(){a("li.category").on("click",function(t){a(t.target).is("a, button, input, .add-page")||a(t.target).closest("a, button, .add-page").length||(t=a(this).find(".category-title-text a[data-bs-toggle='collapse']")).length&&t[0].click()})},100),a("#newCategory").keypress(function(t){13===t.which&&a.post(i+"/rn-add-category",{category:a(this).val().trim().toLowerCase().replace(/\s+/g,"-")},function(t){location.reload()}).fail(function(t){403===t.status&&(window.location=i+"/login")})}),a(".close-edit").click(function(){var t=window.location.href.split("/");t.pop(),window.location=t.join("/")}),a.getJSON(i+"/translations/"+a("html").prop("lang")+".json",null,function(n){a(".save-page").click(function(){var t=window.location.pathname,e=i.replace(window.location.origin,""),e=((t="/"===(t=e&&0===t.indexOf(e)?t.substring(e.length):t).charAt(0)?t.substring(1):t).endsWith("/edit")&&(t=t.substring(0,t.length-5)),a("#entry-markdown"));e.next(".CodeMirror").length&&e.next(".CodeMirror")[0].CodeMirror.save(),a.post(i+"/rn-edit",{file:decodeURI(t),content:e.val(),meta_title:a("#entry-metainfo-title").val(),meta_description:a("#entry-metainfo-description").val(),meta_sort:a("#entry-metainfo-sort").val()},function(t){switch(t.status){case 0:a("#edit-status").slideUp(function(){a("#edit-status").text(n.edit.pageSaved),a("#edit-status").removeClass(),a("#edit-status").addClass("alert alert-success"),a("#edit-status").slideDown()});break;case 1:a("#edit-status").slideUp(function(){a("#edit-status").text(n.edit.pageSaveError),a("#edit-status").removeClass(),a("#edit-status").addClass("alert alert-warning"),a("#edit-status").slideDown()})}}).fail(function(t){403===t.status&&(window.location=i+"/login")})})})})})(jQuery,hljs);